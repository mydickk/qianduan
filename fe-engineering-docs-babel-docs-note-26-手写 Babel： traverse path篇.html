<!DOCTYPE html> <html lang="en-US"><!--
 Page saved with SingleFile 
 url: https://interview2.poetries.top/fe-engineering-docs/babel-docs/note/26-手写 Babel： traverse path篇.html 
 saved date: Thu Aug 25 2022 06:37:29 GMT+0800 (China Standard Time)
--><head>
      <style type="text/css">
        @media screen and (min-width:850px){
          .sidebar-button{
            display: none
          }
          .sidebar{
            transform: translateX(0);
          }
        }
        @media screen and (max-width:850px){
          .sidebar-button{
            display: block
          }
        }
      </style>
      <script>
      document.onreadystatechange=function() {
        if(document.readyState == "complete"){ //当页面加载状态为完全结束时进入
          const sidebar = document.querySelector(".sidebar");
          document.querySelector(".sidebar-button").addEventListener("click", (e) => {
            if (!sidebar.style.transform || sidebar.style.transform === "translateX(-100%)") {
              sidebar.style.transform = "translateX(0)";
            } else {
              sidebar.style.transform = "translateX(-100%)";
            }
          });
          var throttle = function (func, delay) {
            var prev = Date.now();
            return function () {
              var context = this; //this指向window
              var args = arguments;
              var now = Date.now();
              if (now - prev >= delay) {
                func.apply(context, args);
                prev = Date.now();
              }
            };
          };
          window.onresize = throttle(function () {
            if (window.innerWidth > 850) {
              if (!sidebar.style.transform || sidebar.style.transform === "translateX(-100%)") {
                sidebar.style.transform = "translateX(0)";
              }
            }
          }, 1000);
        }
      }
      </script><meta charset="utf-8">
    
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端工程相关</title>
    
    
  
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
  <meta name="apple-mobile-web-app-status-bar-style">
  
    
    
    <style>svg[data-v-49140617]{position:absolute;right:7.5px;cursor:pointer}svg.hover[data-v-49140617]{opacity:0}svg[data-v-49140617]:hover{opacity:1!important}span[data-v-49140617]{position:absolute;font-size:.85rem;line-height:.425rem;right:50px;opacity:0;-webkit-transition:opacity .5s;transition:opacity .5s}.code-copy-added:hover>.code-copy svg{opacity:.75}@-webkit-keyframes rotating{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotating{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes v-modal-in{0%{opacity:0}}@-webkit-keyframes v-modal-out{to{opacity:0}}.el-dialog__wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;margin:0}@-webkit-keyframes dialog-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes dialog-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@-webkit-keyframes dialog-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes dialog-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-out{to{opacity:0}}@-webkit-keyframes msgbox-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes msgbox-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@-webkit-keyframes msgbox-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes msgbox-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@-webkit-keyframes slideInRight-enter{0%{opacity:0;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(100%);transform:translateX(100%)}to{opacity:1;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slideInRight-enter{0%{opacity:0;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(100%);transform:translateX(100%)}to{opacity:1;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes slideInRight-leave{0%{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}}@keyframes slideInRight-leave{0%{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(100%);transform:translateX(100%);opacity:0}}@-webkit-keyframes slideInLeft-enter{0%{opacity:0;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{opacity:1;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes slideInLeft-enter{0%{opacity:0;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}to{opacity:1;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes slideInLeft-leave{0%{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}}@keyframes slideInLeft-leave{0%{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(0);transform:translateX(0);opacity:1}to{-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:translateX(-100%);transform:translateX(-100%);opacity:0}}@-webkit-keyframes loading-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loading-rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}to{stroke-dasharray:90,150;stroke-dashoffset:-120px}}@-webkit-keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@keyframes progress{0%{background-position:0 0}to{background-position:32px 0}}@-webkit-keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@-webkit-keyframes viewer-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes viewer-fade-in{0%{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@-webkit-keyframes viewer-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@keyframes viewer-fade-out{0%{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}to{-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0);opacity:0}}@-webkit-keyframes el-drawer-fade-in{0%{opacity:0}to{opacity:1}}@keyframes el-drawer-fade-in{0%{opacity:0}to{opacity:1}}@-webkit-keyframes rtl-drawer-in{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes rtl-drawer-in{0%{-webkit-transform:translate(100%);transform:translate(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes rtl-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(100%);transform:translate(100%)}}@keyframes rtl-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(100%);transform:translate(100%)}}@-webkit-keyframes ltr-drawer-in{0%{-webkit-transform:translate(-100%);transform:translate(-100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes ltr-drawer-in{0%{-webkit-transform:translate(-100%);transform:translate(-100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes ltr-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-100%);transform:translate(-100%)}}@keyframes ltr-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translate(-100%);transform:translate(-100%)}}@-webkit-keyframes ttb-drawer-in{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes ttb-drawer-in{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes ttb-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@keyframes ttb-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateY(-100%);transform:translateY(-100%)}}@-webkit-keyframes btt-drawer-in{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@keyframes btt-drawer-in{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translate(0);transform:translate(0)}}@-webkit-keyframes btt-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateY(100%);transform:translateY(100%)}}@keyframes btt-drawer-out{0%{-webkit-transform:translate(0);transform:translate(0)}to{-webkit-transform:translateY(100%);transform:translateY(100%)}}@-webkit-keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes nprogress-spinner{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.nav-links{display:inline-block}.nav-links a{line-height:1.4rem;color:inherit}.nav-links a.router-link-active,.nav-links a:hover{color:#3eaf7c}.nav-links .nav-item{position:relative;display:inline-block;margin-left:1.5rem;line-height:2rem}.nav-links .nav-item:first-child{margin-left:0}@media (max-width:850px){.nav-links .nav-item{margin-left:0}}@media (min-width:850px){.nav-links a.router-link-active,.nav-links a:hover{color:#2c3e50}}.navbar{padding:.7rem 1.5rem;line-height:2.2rem}.navbar a{display:inline-block}.navbar .links{padding-left:1.5rem;box-sizing:border-box;background-color:#fff;white-space:nowrap;font-size:.9rem;position:absolute;right:1.5rem;top:.7rem;display:-webkit-box;display:flex}@media (max-width:850px){.navbar{padding-left:4rem}.navbar .can-hide{display:none}.navbar .links{padding-left:1.5rem}}.page-nav{max-width:740px;margin:0 auto;padding:2rem 2.5rem}@media (max-width:959px){.page-nav{padding:2rem}}@media (max-width:419px){.page-nav{padding:1.5rem}}.page-nav{padding-top:1rem;padding-bottom:0}.page-nav .inner{min-height:2rem;margin-top:0;border-top:1px solid #eaecef;padding-top:1rem;overflow:auto}.page-nav .next{float:right}.page{padding-bottom:2rem;overflow-x:hidden;display:block}@media only screen and (min-device-width:768px) and (max-device-width:1024px){.page{padding-bottom:20rem!important}}@media screen and (min-width:1200px){.theme-default-content:not(.custom){max-width:1300px!important}}.theme-default-content .content__default{position:relative}.theme-default-content .content__default pre{position:relative!important;padding-top:40px!important}.theme-default-content .content__default pre:after{content:"";position:absolute;top:9px;left:12px;z-index:1;width:10px;height:10px;border-radius:50%;background:#fc625d;box-shadow:20px 0#fdbc40,40px 0#35cd4b}@media screen and (min-width:700px){.theme-default-content .content__default h2{display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;font-weight:700;background:#ef7060;color:#fff;padding:3px 10px 4px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px;font-size:20px}.theme-default-content .content__default h2:after{content:"";display:inline-block;vertical-align:bottom;border-bottom:36px solid #efebe9;border-right:20px solid transparent;position:relative;left:32px;top:1px}.theme-default-content .content__default h2:before{content:"";border-bottom:2px solid #ef7060;width:100%;display:block;height:10px;position:absolute;margin-top:32px}}.theme-default-content .content__default code{font-size:14px;padding-left:5px;padding-right:5px;margin:auto 3px}@-webkit-keyframes upDown{0%{-webkit-transform:translateY(5px);transform:translateY(5px)}25%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(5px);transform:translateY(5px)}75%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(5px);transform:translateY(5px)}}@keyframes upDown{0%{-webkit-transform:translateY(5px);transform:translateY(5px)}25%{-webkit-transform:translateY(0);transform:translateY(0)}50%{-webkit-transform:translateY(5px);transform:translateY(5px)}75%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(5px);transform:translateY(5px)}}.sidebar-group:not(.collapsable) .sidebar-heading:not(.clickable){cursor:auto;color:inherit}.sidebar-heading{-webkit-transition:color .15s ease;transition:color .15s ease;cursor:pointer;font-size:1.1em;font-weight:700;padding:.35rem 1.5rem .35rem 1.25rem;width:100%;box-sizing:border-box;margin:0;border-left:.25rem solid transparent}.sidebar-heading.open,.sidebar-heading:hover{color:inherit}.sidebar-group-items{-webkit-transition:height .1s ease-out;transition:height .1s ease-out;font-size:.95em;overflow:hidden}.sidebar .sidebar-sub-headers{padding-left:1rem;font-size:.95em}a.sidebar-link{font-size:1em;font-weight:400;color:#2c3e50;border-left:.25rem solid transparent;padding:.35rem 1rem .35rem 1.25rem;line-height:1.4;width:100%;box-sizing:border-box}a.sidebar-link:hover{color:#3eaf7c}a.sidebar-link.active{font-weight:600;color:#3eaf7c;border-left-color:#3eaf7c}.sidebar-group a.sidebar-link{padding-left:2rem}.sidebar-sub-headers a.sidebar-link{padding-top:.25rem;padding-bottom:.25rem;border-left:none}.sidebar-sub-headers a.sidebar-link.active{font-weight:500}.sidebar ul{padding:0;margin:0;list-style-type:none}.sidebar a{display:inline-block}.sidebar>.sidebar-links{padding:1.5rem 0}.sidebar>.sidebar-links>li:not(:first-child){margin-top:.75rem}@media (max-width:850px){.sidebar>.sidebar-links{padding:1rem 0}}@-webkit-keyframes move{0%{-webkit-transform:translate(-175px) scale(1);transform:translate(-175px) scale(1)}50%{-webkit-transform:translate(-87px) scaleY(.5);transform:translate(-87px) scaleY(.5)}to{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1)}}@keyframes move{0%{-webkit-transform:translate(-175px) scale(1);transform:translate(-175px) scale(1)}50%{-webkit-transform:translate(-87px) scaleY(.5);transform:translate(-87px) scaleY(.5)}to{-webkit-transform:translate(0) scale(1);transform:translate(0) scale(1)}}.posr{position:relative}pre[class*=language-]{color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}.token.comment{color:#999}.token.punctuation{color:#ccc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name{color:#f8c555}.token.keyword{color:#cc99cd}.token.string{color:#7ec699}.token.operator{color:#67cdcc}.theme-default-content pre[class*=language-]{line-height:1.4;padding:1.25rem 1.5rem;margin:.85rem 0;background-color:#282c34;border-radius:6px;overflow:auto}.theme-default-content pre[class*=language-] code{color:#fff;padding:0;background-color:transparent;border-radius:0}div[class*=language-]{position:relative;background-color:#282c34;border-radius:6px}div[class*=language-] pre[class*=language-]{background:transparent;position:relative;z-index:1}div[class*=language-]:before{position:absolute;z-index:3;top:.8em;right:1em;font-size:.75rem;color:hsla(0,0%,100%,.4)}div[class~=language-javascript]:before{content:"js"}.theme-default-content:not(.custom){max-width:740px;margin:0 auto;padding:2rem 2.5rem}@media (max-width:959px){.theme-default-content:not(.custom){padding:2rem}}@media (max-width:419px){.theme-default-content:not(.custom){padding:1.5rem}}body,html{padding:0;margin:0;background-color:#fff}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:16px;color:#2c3e50}.page{padding-left:20rem}.navbar{z-index:20;right:0;height:3.6rem;background-color:#fff;box-sizing:border-box;border-bottom:1px solid #eaecef}.navbar{position:fixed;top:0;left:0}.sidebar{font-size:16px;background-color:#fff;width:20rem;position:fixed;z-index:10;margin:0;top:3.6rem;left:0;bottom:0;box-sizing:border-box;border-right:1px solid #eaecef;overflow-y:auto}.theme-default-content:not(.custom)>:first-child{margin-top:3.6rem}.theme-default-content:not(.custom) a:hover{text-decoration:underline}.theme-default-content:not(.custom) img{max-width:100%}a{font-weight:500;text-decoration:none}a{color:#3eaf7c}ul{padding-left:1.2em}h2,h3,h4{font-weight:600;line-height:1.25}h1:hover .header-anchor,h2:hover .header-anchor,h3:hover .header-anchor,h4:hover .header-anchor,h5:hover .header-anchor,h6:hover .header-anchor{opacity:1}h2{font-size:1.65rem;padding-bottom:.3rem;border-bottom:1px solid #eaecef}h3{font-size:1.35rem}a.header-anchor{font-size:.85em;float:left;margin-left:-.87em;padding-right:.23em;margin-top:.125em;opacity:0}a.header-anchor:hover{text-decoration:none}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}p,ul{line-height:1.7}@media (max-width:959px){.sidebar{font-size:15px;width:16.4rem}.page{padding-left:16.4rem}}@media (max-width:850px){.sidebar{top:0;padding-top:3.6rem;transform:translateX(-100%);transition:transform .2s ease}.page{padding-left:0}}@media (max-width:419px){.theme-default-content div[class*=language-]{margin:.85rem -1.5rem;border-radius:0}}</style>
  <style type="text/css">.medium-zoom-image{cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}</style><meta name="description" content="前端工程相关"><link rel="icon" href="data:image/png;base64,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"><style>.sf-hidden{display:none!important}</style><link rel="canonical" href="https://interview2.poetries.top/fe-engineering-docs/babel-docs/note/26-手写 Babel： traverse path篇.html"><meta http-equiv="content-security-policy" content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style></head>
  <body class>
    <div id="app"><div class="theme-container posr"><div><header class="navbar"> 
          <div class="sidebar-button" style="
          width: 1rem;
      "><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div>  <div class="links" style="max-width:1155px"> <nav class="nav-links can-hide"><div class="nav-item"><div><a href="./fe-engineering-docs-docs-npm-script.html" class="nav-link">Npm工作流
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-fe-engineering-note-01-%E5%BC%80%E7%AF%87%E8%AF%8D%20%E4%BB%80%E4%B9%88%E6%98%AF%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B.html" class="nav-link">前端工程化
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-docs-webpack.html" class="nav-link">Webpack
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-docs-docker.html" class="nav-link">Docker
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-babel-docs-note-01-Babel%E7%9A%84%E4%BB%8B%E7%BB%8D.html" class="nav-link">Babel
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-vite-docs-note-01-%E6%A8%A1%E5%9D%97%E6%A0%87%E5%87%86%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88%20ESM%20%E6%98%AF%E5%89%8D%E7%AB%AF%E6%A8%A1%E5%9D%97%E5%8C%96%E7%9A%84%E6%9C%AA%E6%9D%A5.html" class="nav-link">Vite
  </a></div></div><div class="nav-item"><div><a href="./fe-engineering-docs-ci-docs-note-01-%E4%BB%80%E4%B9%88%E6%98%AF%20CI%20CD.html" class="nav-link">CI/CD 流程
  </a></div></div> <!----></nav> </div></header></div> <div class="sidebar-mask sf-hidden"></div> <aside class="sidebar"><nav class="nav-links sf-hidden"> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Babel</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="./fe-engineering-docs-babel-docs-note-01-Babel%E7%9A%84%E4%BB%8B%E7%BB%8D.html" class="sidebar-link">Babel的介绍</a></li><li><a href="./fe-engineering-docs-babel-docs-note-02-Babel%20%E7%9A%84%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B.html" class="sidebar-link">Babel 的编译流程</a></li><li><a href="./fe-engineering-docs-babel-docs-note-03-Babel%20%E7%9A%84%20AST.html" class="sidebar-link">Babel 的 AST</a></li><li><a href="./fe-engineering-docs-babel-docs-note-04-Babel%20%E7%9A%84%20API.html" class="sidebar-link">Babel 的 API</a></li><li><a href="./fe-engineering-docs-babel-docs-note-05-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%8F%92%E5%85%A5%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E5%8F%82%E6%95%B0.html" class="sidebar-link">实战案例：插入函数调用参数</a></li><li><a href="./fe-engineering-docs-babel-docs-note-06-JS%20Parser%20%E7%9A%84%E5%8E%86%E5%8F%B2.html" class="sidebar-link">JS Parser 的历史</a></li><li><a href="./fe-engineering-docs-babel-docs-note-07-Traverse%20%E7%9A%84%20path%E3%80%81scope%E3%80%81visitor.html" class="sidebar-link">Traverse 的 path、scope、visitor</a></li><li><a href="./fe-engineering-docs-babel-docs-note-08-Generator%20%E5%92%8C%20SourceMap%20%E7%9A%84%E5%A5%A5%E7%A7%98.html" class="sidebar-link">Generator 和 SourceMap 的奥秘</a></li><li><a href="./fe-engineering-docs-babel-docs-note-09-Code-Frame%20%E5%92%8C%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE%E5%8E%9F%E7%90%86.html" class="sidebar-link">Code</a></li><li><a href="./fe-engineering-docs-babel-docs-note-10-Babel%20%E6%8F%92%E4%BB%B6%E5%92%8C%20preset.html" class="sidebar-link">Babel 插件和 preset</a></li><li><a href="./fe-engineering-docs-babel-docs-note-11-Babel%20%E6%8F%92%E4%BB%B6%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html" class="sidebar-link">Babel 插件的单元测试</a></li><li><a href="./fe-engineering-docs-babel-docs-note-12-Babel%20%E7%9A%84%E5%86%85%E7%BD%AE%E5%8A%9F%E8%83%BD.html" class="sidebar-link">Babel 的内置功能</a></li><li><a href="./fe-engineering-docs-babel-docs-note-13-VSCode%20Debugger%20%E7%9A%84%E4%BD%BF%E7%94%A8.html" class="sidebar-link">VSCode Debugger 的使用</a></li><li><a href="./fe-engineering-docs-babel-docs-note-14-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%87%AA%E5%8A%A8%E5%9F%8B%E7%82%B9.html" class="sidebar-link">实战案例：自动埋点</a></li><li><a href="./fe-engineering-docs-babel-docs-note-15-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20%E8%87%AA%E5%8A%A8%E5%9B%BD%E9%99%85%E5%8C%96.html" class="sidebar-link">实战案例: 自动国际化</a></li><li><a href="./fe-engineering-docs-babel-docs-note-16-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%20API%20%E6%96%87%E6%A1%A3.html" class="sidebar-link">实战案例:自动生成 API 文档</a></li><li><a href="./fe-engineering-docs-babel-docs-note-17-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20Linter.html" class="sidebar-link">实战案例: Linter</a></li><li><a href="./fe-engineering-docs-babel-docs-note-18-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5.html" class="sidebar-link">实战案例: 类型检查</a></li><li><a href="./fe-engineering-docs-babel-docs-note-19-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20%E5%8E%8B%E7%BC%A9%E6%B7%B7%E6%B7%86.html" class="sidebar-link">实战案例: 压缩混淆</a></li><li><a href="./fe-engineering-docs-babel-docs-note-20-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20JS%20%E8%A7%A3%E9%87%8A%E5%99%A8.html" class="sidebar-link">实战案例: JS 解释器</a></li><li><a href="./fe-engineering-docs-babel-docs-note-21-%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B:%20%E6%A8%A1%E5%9D%97%E9%81%8D%E5%8E%86%E5%99%A8.html" class="sidebar-link">实战案例: 模块遍历器</a></li><li><a href="./fe-engineering-docs-babel-docs-note-22-Babel%20Macros.html" class="sidebar-link">Babel Macros</a></li><li><a href="./fe-engineering-docs-babel-docs-note-23-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%E6%80%9D%E8%B7%AF%E7%AF%87.html" class="sidebar-link">手写 Babel：思路篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-24-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20parser%20%E7%AF%87.html" class="sidebar-link">手写 Babel： parser 篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-25-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20%E7%AF%87.html" class="sidebar-link">手写 Babel： traverse 篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html" class="active sidebar-link">手写 Babel： traverse path篇</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90" class="sidebar-link">思路分析</a></li><li class="sidebar-sub-header"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" class="active sidebar-link">代码实现</a></li><li class="sidebar-sub-header"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E6%80%BB%E7%BB%93" class="sidebar-link">总结</a></li></ul></li><li><a href="./fe-engineering-docs-babel-docs-note-27-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20%20scope%E7%AF%87.html" class="sidebar-link">手写 Babel： traverse  scope篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-28-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20generator%E7%AF%87.html" class="sidebar-link">手写 Babel： generator篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-29-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20core%E7%AF%87.html" class="sidebar-link">手写 Babel： core篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-30-%E6%89%8B%E5%86%99%20Babel%20cli%E7%AF%87.html" class="sidebar-link">手写 Babel cli篇</a></li><li><a href="./fe-engineering-docs-babel-docs-note-31-%E6%89%8B%E5%86%99%20Babel%20%E6%80%BB%E7%BB%93.html" class="sidebar-link">手写 Babel 总结</a></li></ul></section></li></ul> </aside> <main class="page"> <div id="container" class="theme-default-content"><div class="content__default"><p>path 记录了遍历路径，并且还实现了一系列增删改的 api，会在遍历 ast 的时候传递给 visitor 的回调函数。</p> <p>这节我们来实现下 path。</p> <h2 id="思路分析"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90" class="header-anchor">#</a> 思路分析</h2> <p>path 是节点之间的关联，每一个 path 记录了当前节点和父节点，并且 path 和 path 之间也有关联。</p> <p><img src="data:image/png;base64,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3bvPmjnrvJt3NHwHrar8GETs1q3b6tWr33jjjXffeffw4cM7duyYNWtWcHAwF8dTpkzZuHHjkSNH9u/fv3DhwsjIyBtuuOHNN99UVXXEiBFffPFF3759VVUVBOGll17as2fP/v3733rrreDgYFEUe/furaoqj/uj0d5079599erVr7/++sKFCw8fPrx79+6XX36ZR9rT6XTTpk3bvHnzqVOnDhw48Pbbb0dGRo4bN+6NN95AxKFDh/7vf//r378/QyZJ0ssvv5yRkZGTk7NgwYLAwMCgoKCbbroJAF6a8dI333wzb948s9nctXtXdwvR8AM6Rl3XaEM8bR2jRo3iRwuazeatW7fycHSpqakA8PjjjyOioijp6ekHDx7k1ydOnHjs2DFEtJgtW7ZsGTZs2JkzZxRFMZvNO3bsqKmpQcS5c+cCQFhYmMlkeueddxDxvffeA83W0dZ42jpGjx5ts9kQsba2dvPmzVVVVYi4aNEidz2qqvrbb78dPnwYEZcsWXLPPffwejSbzVu2bBk+fHhRUREiWq3WrVu3mmvNiPjKK68EBgZ+8MEHixYt4g1m/PjxiLhz506+mRM0W4c/oK0Z+jeIqCiKLMsPPvjg119/PXz48O+///6+++57/fXXY2JisrKyPvzwww8//HDUqFG//vrrsGHDnnjiibKysk2bNqVtThs/frzRaNTpdISQp59+OjU1ddq0aR9//PE111wDrqiVdpsdWrG4ZLVab7vttpKSEm0S3RJ2u/13v/vdkiVLmv1WcTF58uTvv/9+1KhRX3zxxZQpU95+++3OnTvv3bv3o48+WrRo0ciRI9PS0oYPH/7kk09WVFRs2rRp8+bNd911l9Fo5G/+scceW7169R//+McPP/xw9OjRc+bMefLJJ3kSo0ePXrhwIQB8+umnNputA47B1GgTNBnt3/DFvV27dn333XcAsGvXrg0bNtx///39+vWbN2/e8ePHhwwZ8u233/bt21en06mqqiiK3W4HAIfDoSgK76inTp368ccfAcAzTBL/ivf880pevV7/2muvORwOTUa3BGMsIiKipW8RUa/X79q966effgKArVu3bt26dcKECb169XrzzTePHDkydOjQ9evXd+/eXZIkvmbAw4rabDZZlk0mEyGkoKCA//zAgQMA4HadFEXx2WefnTNnjslkevvtt/msSMNf0GS0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rl1bV1fXp0+fZcuWxSfEPzLtkSNHjmzYsMFqtf7444/x8fETJkzYtWvXsWPHrr766vDw8LFjx4aEhLi33buTmzVr1v79+1etWtWuAprzzrvvREZG8iVErix7qswWi2XDhg0RERETJkzYvXv30aNHs7OzP//88xtvvPGmm276+eefd+7cyR1Oxo4de+fv7zx58qSqqjU1NR999FH37t0nTZqUm5v7008/tV/+ryg0Gd0qGGMBAQH33ntvSkrKbbfdZjKZDh06dNNNNw0bNuz48eMnT540m81MZSaTafLkyUOGDNmxY0dAQMD+/fttNltpaenJkycDAwPHjRuXlJQ0fPhwm80WFhYWEhISFRXVqVOni8gPN6HMmzcvLS1txYoVMTExTc2mbcXdd9/917/+9dFHH923b59bcERFRd1+++3JyckDBgywWCzZ2dldu3a97bbbevTocc899xw6dOjgwYPh4eHjxo1LTk6eMGFCYGBgeXn5sWPHGGO7d+9GhgcPHiwvLwcfnhEjYs+ePW+//fbklOQ777zz4MGDyHDixIkmk2nPnj1VVVXc1pGQkDB9+nRRFAsKCmw22/79+w0Gw65du+rq6rp16zZmzJh+/fr16tXLZrN16dIlKCioa9euXMH0LPjMmTP379+/fPny0NBQT9+49uOtt96Kiop69NFHZVluNPdSVTUpKenGG2/s169fYmKi1Wrdtm3byJEjhw0bNnjw4DFjxmRkZOzbt69fv35XX311v379xo0bBwAFBQWFhYW1tbVZWVkAkJGRcUFhcjVaQpPRrYJP1d279SRJstlsXGtmjPXp00ev13O/hcjISL7pNiAgQBRFo9H4u9/9Ljw8XFVVvtHLPa/kQX4vOj/z589fv359ampqdHQ0uGyFbVTcxtx7771/+9vfHn/88czMTABAREEQdDoduKIVOxwOgTp3J+p0OsaY2WwOCgrinV+n06mqyg0CQUFBkijFxMbceOONBoOh2ShOPoLnnnhRFAVBKCktWbdu3aFDhxISEmJjY3nmudXCYXcAQEBAgE6nS0hIuPbaaxVFMRqN7ifwN+CWv+6/VVV96aWXdu/enZqayo0/HXOUsCAIby98OzIy0unp4ZEoIur1emcOgSCiw+FwGy50Op3NZnM4HHqd84per+fvR6fTGQwGo9GYkpIycuRIL56JfDmhvcRWIQiC3W7/5ZdfampqMjMzy8rK4uLi9u/fP2rUqJEjR1ZXV1ssFkVREJFb97p3784Yu+6663r27Jmbm8ulM1/vdi98A0BlZSXv260BEd2ri3Pnzk1LS1uzZk1sbGzHnLR03333vfDCC3/6059ycnKMRqN7fZ8xJstyjx49zhSeyc7OrqmpSUtLS7F5e7UAACAASURBVExMHNB/wMmTJ/ft21dVVfXjjz/abLbIyMigoCCDwXDDjTeEhYWdOHHCZDJ57jv3tVVEnU539OjRrKwsi8WyY8eOsLCwqqqqs2fPjv/9+Pj4+PLycm7A4bUZ2zk2ICAgMSFx7JixjLGqqioA4C49AMCQcfOFzWYrLy9XVMVtzeA26M8//7zjrfMCFV5f8HpsTOy0adM8VzI97R4qU202W//+/bds2VJYWFhcXLx169bevXv3799/X9a+vLy8srIyvg4RGxsbGBgYFxc3evRoQkhlZaUWVKBNEF599VVv58EPkGV5x44diPjbb79lZWXddtttw4YNs1qtGzdu3LVrV6dOnYqKiiIjI6uqqoYNG6bX6xMTE/ft2/fDDz8cOHBg1LWjeqT0OHz4cL9+/YKDg8vLy88Unhl21TBZljdv3mwKMHXp0qWV2VAURRAEHgJt6dKlXIPuMG2lb9++wcHBM2bMSElJAYDBgweLopiXl6fX66+++mpK6Xfffbdz5069Xj9p0qSYmJigoKBvv/12z549hJCAgICRI0d27dp1w4YNv/76a15e3rhx42JjY4kHHVOK1lNYWJifn19YWJiWllZTUzN58uSEhITc3NzftvyWl5cXERFRXFwcExNjs9kGDx5sMplCQ0O//vrrtLS0ysrKO++80+FwnD17dtCgQZTQI4ePREVFJScnHzt2bO/evb169eJG55deeikzM3PlypXeWj4VBOHmm2/esmXLp59+evvtt3NloqKiwmw2Dxw4EABycnKio6PHjh1bXl7+448/7tq1q1u3bnfeeWdcXFxdXd3333+fmZkZEBAQHBw8evTooKCgdevWpaen19TU3HLLLT6+JuwvaHvBW0Vtbe0bb7wxffr0sLAwvV6v0+m4Omw2myVRMgWYzGazJEmqqvIpIZc4VVVVkiQFBgZyjz23MK2rq+NzSe58KklS6yXUnDlz0tPTV65cGRMTc95odu3B559/vmDBgg8++GDo0KH8WAAq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" alt="img" class="medium-zoom-image"></p> <p>通过 path 我们可以找到父节点、父节点的父节点，一直到根节点。</p> <p>path 的实现就是在 traverse 的时候创建一个对象来保存当前节点和父节点，并且能够拿到节点也就能对节点进行操作，可以基于节点来提供一系列增删改的 api。</p> <h2 id="代码实现"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" class="header-anchor">#</a> 代码实现</h2> <p>首先我们创建一个 path 的类，记录当前节点 node，父节点 parent 以及父节点的 path。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token keyword">class</span> <span class="token class-name">NodePath</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parentPath <span class="token operator">=</span> parentPath<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>然后在遍历的时候创建 path 对象，传入 visitor。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> defination <span class="token operator">=</span> astDefinationsMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> visitorFuncs <span class="token operator">=</span> visitors<span class="token punctuation">[</span>node<span class="token punctuation">.</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> visitorFuncs <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitorFuncs <span class="token operator">=</span> <span class="token punctuation">{</span>
            enter<span class="token punctuation">:</span> visitorFuncs
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NodePath</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">)</span><span class="token punctuation">;</span>

    visitorFuncs<span class="token punctuation">.</span>enter <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>defination<span class="token punctuation">.</span>visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        defination<span class="token punctuation">.</span>visitor<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> prop <span class="token operator">=</span> node<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果该属性是数组</span>
                prop<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">childNode</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">traverse</span><span class="token punctuation">(</span>childNode<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">traverse</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    visitorFuncs<span class="token punctuation">.</span>exit <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>之后 visitor 里面就可以拿到 path 了。</p> <p>比如我们可以在 visotor 里从当前节点一直查找到根节点：</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    Identifier<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            path<span class="token punctuation">.</span>node<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span>
            <span class="token keyword">let</span> curPath <span class="token operator">=</span> path<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>curPath<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>curPath<span class="token punctuation">.</span>node<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
                curPath <span class="token operator">=</span> curPath<span class="token punctuation">.</span>parentPath<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>接下来是实现 api，path 的 api 就是对 AST 的增删改，我们实现下 replaceWith、remove、findParent、find、traverse、skip 这些 api。</p> <h3 id="实现-path-api"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E5%AE%9E%E7%8E%B0-path-api" class="header-anchor">#</a> 实现 path api</h3> <p>replaceWith 就是在父节点替换当前节点为另一个节点。但是我们现在并不知道当前节点在父节点的什么属性上，所以在遍历的时候要记录属性名的信息。</p> <p>这里要记录两个属性 key 和 listkey，因为属性可以是数组，如果是数组的话就要知道是什么属性的什么下标，比如 params 的第 2 个元素，这时候 key 是 params 而 listkey 是 2。如果不是数组的话，listkey 为空。</p> <p>在讲 path 的那一节，我们讲过 key 和 listkey，很多同学都不明白为什么要记录这个，现在就知道了，是为了实现对 AST 增删改的 api 用的。</p> <p>我们对 traverse 的实现做下改动，传入 key 和数组下标：</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> defination <span class="token operator">=</span> visitorKeys<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> visitorFuncs <span class="token operator">=</span> visitors<span class="token punctuation">[</span>node<span class="token punctuation">.</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> visitorFuncs <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitorFuncs <span class="token operator">=</span> <span class="token punctuation">{</span>
            enter<span class="token punctuation">:</span> visitorFuncs
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NodePath</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visitorFuncs<span class="token punctuation">.</span>enter <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>defination<span class="token punctuation">.</span>visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        defination<span class="token punctuation">.</span>visitor<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> prop <span class="token operator">=</span> node<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果该属性是数组</span>
                prop<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">childNode<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">traverse</span><span class="token punctuation">(</span>childNode<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">,</span> key<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">traverse</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    visitorFuncs<span class="token punctuation">.</span>exit <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>path 也要做相应的改动：</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token keyword">class</span> <span class="token class-name">NodePath</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parentPath <span class="token operator">=</span> parentPath<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>listKey <span class="token operator">=</span> listKey<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-replacewith"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-replacewith" class="header-anchor">#</a> path.replaceWith</h4> <p>然后基于 key 和 listkey 实现 replaceWith 的 api，如果是数组的话，就修改那个元素，否则就修改该属性。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">replaceWith</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listKey <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listKey<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> node
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-remove"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-remove" class="header-anchor">#</a> path.remove</h4> <p>同理，remove 也是一样的思路：</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">remove</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listKey <span class="token operator">!=</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>listKey<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-find、path-findparent"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-find%E3%80%81path-findparent" class="header-anchor">#</a> path.find、path.findParent</h4> <p>find 和 findParent 是顺着 path 链向上查找 AST，并且把节点传入回调函数，如果找到了就返回节点的 path。区别是 find 包含当前节点，findParent 不包含。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">findParent</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> curPath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentPath<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>curPath <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">callback</span><span class="token punctuation">(</span>curPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        curPath <span class="token operator">=</span> curPath<span class="token punctuation">.</span>parentPath<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> curPath<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> curPath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>curPath <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">callback</span><span class="token punctuation">(</span>curPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        curPath <span class="token operator">=</span> curPath<span class="token punctuation">.</span>parentPath<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> curPath<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-traverse"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-traverse" class="header-anchor">#</a> path.traverse</h4> <p>traverse 的 api 是基于上面实现的 traverse，但是有一点不同，path.traverse 不需要再遍历当前节点，直接遍历子节点即可。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">visitors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> defination <span class="token operator">=</span> types<span class="token punctuation">.</span>visitorKeys<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>defination<span class="token punctuation">.</span>visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        defination<span class="token punctuation">.</span>visitor<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> prop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果该属性是数组</span>
                prop<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">childNode<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">traverse</span><span class="token punctuation">(</span>childNode<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">traverse</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-skip"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-skip" class="header-anchor">#</a> path.skip</h4> <p>skip 的实现可以给节点加个标记，遍历的过程中如果发现了这个标记就跳过子节点遍历。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">skip</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">.</span>__shouldSkip <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">traverse</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> defination <span class="token operator">=</span> visitorKeys<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> visitorFuncs <span class="token operator">=</span> visitors<span class="token punctuation">[</span>node<span class="token punctuation">.</span>type<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> visitorFuncs <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        visitorFuncs <span class="token operator">=</span> <span class="token punctuation">{</span>
            enter<span class="token punctuation">:</span> visitorFuncs
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NodePath</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    visitorFuncs<span class="token punctuation">.</span>enter <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>__shouldSkip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">delete</span> node<span class="token punctuation">.</span>__shouldSkip<span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>defination<span class="token punctuation">.</span>visitor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        defination<span class="token punctuation">.</span>visitor<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> prop <span class="token operator">=</span> node<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果该属性是数组</span>
                prop<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">childNode<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token function">traverse</span><span class="token punctuation">(</span>childNode<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">,</span> key<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">traverse</span><span class="token punctuation">(</span>prop<span class="token punctuation">,</span> visitors<span class="token punctuation">,</span> node<span class="token punctuation">,</span> path<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    visitorFuncs<span class="token punctuation">.</span>exit <span class="token operator">&amp;&amp;</span> visitorFuncs<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-tostring"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-tostring" class="header-anchor">#</a> path.toString</h4> <p>toString 是把当前节点打印成目标代码，会调用 generator，generator 的实现在后面的章节会讲。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>node<span class="token punctuation">)</span><span class="token punctuation">.</span>code<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h4 id="path-isxxx"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#path-isxxx" class="header-anchor">#</a> path.isXxx</h4> <p>我们记录了不同 ast 怎么遍历，那么也可以基于这些数据实现各种判断 AST 类型的 api：</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token keyword">const</span> validations <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> name <span class="token keyword">of</span> astDefinationsMap<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    validations<span class="token punctuation">[</span><span class="token string">'is'</span> <span class="token operator">+</span> name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> node<span class="token punctuation">.</span>type <span class="token operator">===</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>这些会抽离到 types 包里面，然后在 path 中做相应的封装，通过 bind 给方法添加一个参数。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token keyword">const</span> types <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../../types'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">NodePath</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">node<span class="token punctuation">,</span> parent<span class="token punctuation">,</span> parentPath<span class="token punctuation">,</span> key<span class="token punctuation">,</span> listKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>node <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> parent<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>parentPath <span class="token operator">=</span> parentPath<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>listKey <span class="token operator">=</span> listKey<span class="token punctuation">;</span>

        Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>types<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'is'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> types<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><p>实现了这些 API 之后我们就可以在 visitor 里使用 path 的 api 来操作 ast 了。</p> <div class="language-javascript extra-class"><pre class="language-javascript code-copy-added"><code><span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">Identifier</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">findParent</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span><span class="token function">isCallExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Identifier'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'bbbbbbb'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code><div data-v-49140617 class="code-copy"><svg data-v-49140617 xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="hover" style="bottom:7.5px"><path data-v-49140617 fill="none" d="M0 0h24v24H0z"></path> <path data-v-49140617 fill="#3eaf7c" d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"></path></svg> <span data-v-49140617 class style="bottom:7.5px">
        @程序员poetry: 代码已经复制到剪贴板
    </span></div></pre></div><h2 id="总结"><a href="./fe-engineering-docs-babel-docs-note-26-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20path%E7%AF%87.html#%E6%80%BB%E7%BB%93" class="header-anchor">#</a> 总结</h2> <p>path 的 api 就是对 AST 进行增删改，我们记录了 node（当前节点）、parent（父节点）、parentPath（父 path） 等信息，还会记录 key（父节点属性） 和 listkey（父节点下标）。基于这些就可以实现 replaceWith、remove、find、findParent、skip 等 api。</p></div> <!----> <!----></div>  <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="./fe-engineering-docs-babel-docs-note-25-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20%E7%AF%87.html" class="prev">手写 Babel： traverse 篇</a></span> <span class="next"><a href="./fe-engineering-docs-babel-docs-note-27-%E6%89%8B%E5%86%99%20Babel%EF%BC%9A%20traverse%20%20scope%E7%AF%87.html" class>手写 Babel： traverse  scope篇</a>
      →
    </span></p></div>  </main> <div class="el-dialog__wrapper" style="display:none"></div> <div class="el-dialog__wrapper" style="display:none"></div> <div class="el-dialog__wrapper" style="display:none"></div> <div class="el-dialog__wrapper" style="display:none"></div></div><div class="global-ui"><!----></div></div>
    
  

</body></html>